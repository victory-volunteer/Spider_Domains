# Spider_Domains
通过搜索引擎和暴力破解来实现域名抓取：

- 搜索引擎：

  - 利用多进程、多线程、异步协程（需要通过读取操作系统核心数来决定开多少进程线程协程）来实现高速爬取，并结合生产者与消费者模型进行异步任务的划分。

    > 多进程相比线程更加笨重、切换耗时更长，并且在python的多进程下，**进程数量不推荐超过CPU核心数**（一个进程只有一个GIL，所以一个进程只能跑满一个CPU），因为一个进程占用一个CPU时能充分利用机器的性能，但是进程多了就会出现频繁的进程切换，反而得不偿失。
    >
    > 个人理解：
    >
    > - 虽然协程可以在发生阻塞时，切换到其它任务。但使用asycio的时候，是需要手动调用await来阻塞，**不能保证每个耗时操作都能手动调用await阻塞**（比如正则匹配），因此需要结合线程和进程来**弥补这个缺陷**，由线程和进程来辅助协程在发生不可预料的阻塞时，进行系统调度。

  - 注意：由于源文件太大，所有需要借助linux的split命令将大文件拆分，以减轻服务器压力。

- 暴力破解：

  - 爆破的原理其实是通过枚举的方式来实现的（爆破域名顾名思义就是枚举的意思）枚举域名的A记录。
  - 通过爆破字典，借助DNS服务器看域名能否解析成IP来判断子域名是否存在。
